package com.board.controller;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.RequestMapping;

import com.board.domain.MenuVo;
import com.board.mapper.MenuMapper;

@Controller
@RequestMapping("/Menus")
public class MenuController {

	@Autowired
	private MenuMapper menuMapper;

	@RequestMapping("/WriteForm")
	public String WriteForm() {

		return "menus/writeform";
	}

	@RequestMapping("/Write")
	public String Write(MenuVo menuVo) {
		menuMapper.insertMenu(menuVo);
		return "menus/list";
	}

	@RequestMapping("/List")
	public String List(Model model, MenuVo menuVo) {
		List<MenuVo> lists = menuMapper.viewMenu(menuVo);

		for (int i = 0; i < lists.size(); i++) {
			String menu_id = lists.get(i).getMenu_id();
			String menu_name = lists.get(i).getMenu_name();
			int menu_seq = lists.get(i).getMenu_seq();
			model.addAttribute("menu_id",menu_id);
			model.addAttribute("menu_name",menu_name);
			model.addAttribute("menu_seq",menu_seq);
		}

		return "menus/list";
	}

}
